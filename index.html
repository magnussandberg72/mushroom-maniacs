<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mushroom Maniacs – Hälsa, Tro & Gemenskap</title>
  <link rel="icon" type="image/png" href="public/M-M-logo.png" />
  <link rel="stylesheet" href="styles/main.css" />
  <link rel="stylesheet" href="styles/header.css" />
  <link rel="stylesheet" href="styles/footer.css" />
</head>

<body class="home">
  <!-- Global header -->
  <div id="header-placeholder"></div>
  <script>
    fetch("includes/header.html")
      .then(r => r.text())
      .then(h => (document.getElementById("header-placeholder").innerHTML = h));
  </script>

  <main>
    <section class="hero">
      <img src="public/M-M-logo.png" alt="Mushroom Maniacs logo" class="hero-logo" />
      <h1>Welcome</h1>
      <p class="subtitle">
        A sanctuary for the soul – faith, healing & connection 🍀
      </p>
      <a href="health/index.html" class="hero-btn">Kyrkan ✝️</a>
    </section>

    <section class="intro">
      <h2>Välkommen hem 🌿</h2>
      <p>
        Mushroom Maniacs är en fristad för människor som söker mening, lugn och gemenskap.  
        Här förenas tro, teknologi och mänsklig värme – i ett digitalt rum där själen får vila.
      </p>
      <p>
        Utforska våra sektioner: <strong>Kyrkan</strong> för andlig ro,  
        <strong>AI</strong> för vägledning och reflektion,  
        <strong>Charity</strong> för kärlek i handling,  
        och <strong>Support</strong> för dig som behöver stöd i livet.
      </p>
    </section>
  </main>

  <!-- Global footer -->
  <div id="footer-placeholder"></div>

  <!-- Diagnospanel -->
  <div id="footer-diagnose"
    style="background:#111;color:#fff;padding:12px;font-size:0.9rem;font-family:monospace;text-align:left;">
    🔍 Diagnos: testar sökväg...
  </div>

  <script>
    // --- DIAGNOS: upptäck rätt sökväg till footer ---
    const repoBase = "/mushroom-maniacs/";
    const isHealth = window.location.pathname.includes(repoBase + "health/");
    const footerPath = isHealth ? "../includes/footer.html" : "includes/footer.html";
    const diag = document.getElementById("footer-diagnose");

    diag.innerHTML = `🔎 Försöker ladda: <strong>${footerPath}</strong>`;

    fetch(footerPath)
      .then(r => {
        if (!r.ok) throw new Error("404 Not Found");
        return r.text();
      })
      .then(f => {
        document.getElementById("footer-placeholder").innerHTML = f;
        diag.innerHTML += "<br>✅ Footer hittades och laddades korrekt!";
        diag.style.background = "#063";
      })
      .catch(err => {
        diag.innerHTML += `<br>❌ Fel: ${err.message}<br>
        Kontrollera att filen finns på <a href='${footerPath}' style='color:#0af;'>${footerPath}</a>`;
        diag.style.background = "#600";
      });
  </script>
</body>
</html>
