<footer>
  <nav id="footer-nav" class="footer-nav"></nav>

  <p class="footer-credit">
    Â© 2025 <strong>Mushroom Maniacs</strong> â€” Vision Framtid by
    <strong>Magnus T Gustav Sandberg ğŸ€</strong>
  </p>

  <div class="language-switch">
    ğŸŒ Language:
    <a href="#" onclick="switchLanguage('sv')">ğŸ‡¸ğŸ‡ª Svenska</a> |
    <a href="#" onclick="switchLanguage('en')">ğŸ‡ºğŸ‡¸ English</a>
  </div>
</footer>

<script>
  const isSubdir = window.location.pathname.split("/").length > 2;
  const base = isSubdir ? "../" : "";

  const links = [
    { href: base + "index.html", text: "ğŸ  Hem" },
    { href: base + "health/index.html", text: "âœï¸ Kyrkan" },
    { href: base + "ai/index.html", text: "ğŸ¤– AI" },
    { href: base + "bauta/index.html", text: "ğŸŒ Bauta" },
    { href: base + "charity/index.html", text: "ğŸ’– Charity" },
    { href: base + "support/index.html", text: "ğŸ¤ Support" },
    { href: base + "apps/index.html", text: "ğŸ“± Appar & Sajter" },
    { href: base + "donate.html", text: "ğŸ™ğŸ¼ StÃ¶dj" },
  ];

  const currentPath = window.location.pathname.replace(/^.*\//, "");

  document.getElementById("footer-nav").innerHTML = links
    .map(l => {
      const isActive = currentPath === l.href.split("/").pop();
      return `<a href="${l.href}" class="${isActive ? "active" : ""}">${l.text}</a>`;
    })
    .join("");

  function switchLanguage(lang) {
    const current = window.location.pathname;
    const newUrl = current.replace(/-en\.html$/, '') + (lang === 'en' ? '-en.html' : '.html');
    fetch(newUrl)
      .then(res => {
        if (res.ok) window.location.href = newUrl;
        else alert("English version coming soon ğŸ™ğŸ¼");
      })
      .catch(() => alert("Language switch temporarily unavailable."));
  }
</script>
